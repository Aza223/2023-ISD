[gd_scene load_steps=17 format=2]

[ext_resource path="res://Maps/Stairs2.gd" type="Script" id=1]
[ext_resource path="res://Assets/3D Models/bookshelf/source/SM_Bookshelf.obj" type="ArrayMesh" id=2]
[ext_resource path="res://Assets/3D Models/Old_Stairs/source/stairs_1.obj" type="ArrayMesh" id=3]
[ext_resource path="res://Assets/3D Models/KeySafe_Level1/Safe.tscn" type="PackedScene" id=4]
[ext_resource path="res://Maps/Light.gd" type="Script" id=6]

[sub_resource type="SpatialMaterial" id=1]
albedo_color = Color( 1, 0.74902, 0, 1 )

[sub_resource type="BoxShape" id=8]
extents = Vector3( 0.346047, 0.224716, 0.29552 )

[sub_resource type="SpatialMaterial" id=2]
albedo_color = Color( 0, 1, 0.486275, 1 )

[sub_resource type="SpatialMaterial" id=4]
albedo_color = Color( 1, 0, 0, 1 )

[sub_resource type="SpatialMaterial" id=5]
albedo_color = Color( 0.054902, 0, 1, 1 )

[sub_resource type="PhysicsMaterial" id=6]

[sub_resource type="BoxShape" id=7]
extents = Vector3( 0.235918, 0.152594, 5.20098 )

[sub_resource type="BoxShape" id=9]
extents = Vector3( 0.580075, 1, 0.583129 )

[sub_resource type="BoxShape" id=10]
extents = Vector3( 3.73799, 1, 1 )

[sub_resource type="BoxShape" id=11]
extents = Vector3( 1, 1, 1.55328 )

[sub_resource type="BoxShape" id=12]
extents = Vector3( 0.622273, 1, 1 )

[node name="Basement" type="Spatial"]

[node name="Main Room" type="CSGBox" parent="."]
transform = Transform( 0.4, 0, 0, 0, 0.4, 0, 0, 0, 0.4, -5.72549, 3.48217, 6.15927 )
use_collision = true
width = 30.0
height = 15.0
depth = 30.0

[node name="Walls" type="CSGBox" parent="Main Room"]
operation = 2
use_collision = true
width = 29.0999
height = 14.69
depth = 29.1761

[node name="Doorway" type="CSGBox" parent="Main Room"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 15.0227, -2.68784, -7.83557 )
operation = 2
height = 9.57653
depth = 5.79277

[node name="Doorway2" type="CSGBox" parent="Main Room"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -13.3079, 4.09707, -11.9464 )
operation = 2
width = 3.61026
height = 7.52383
depth = 5.25468

[node name="CSGBox" type="CSGBox" parent="Main Room"]
transform = Transform( 1, 0, 0, 0, 0.988335, -0.152296, 0, 0.152296, 0.988335, 14.5695, -3.94692, -11.4755 )
operation = 2
width = 0.136
height = 0.221
depth = 1.085

[node name="CSGBox2" type="CSGBox" parent="Main Room"]
transform = Transform( 1, 0, 0, 0, -0.238144, -0.97123, 0, 0.97123, -0.238144, 14.5695, -3.54305, -11.4755 )
operation = 2
width = 0.12
height = 0.153
depth = 0.96

[node name="CSGBox3" type="CSGBox" parent="Main Room"]
transform = Transform( 1, 0, 0, 0, 0.940122, 0.340839, 0, -0.340839, 0.940122, 14.5695, -3.21442, -11.6196 )
operation = 2
width = 0.136
height = 0.153
depth = 0.665

[node name="CSGBox4" type="CSGBox" parent="Main Room"]
transform = Transform( 1, 0, 0, 0, 0.988335, -0.152296, 0, 0.152296, 0.988335, 14.5695, -5.0521, -11.4755 )
operation = 2
width = 0.136
height = 0.146092
depth = 0.719034

[node name="CSGBox5" type="CSGBox" parent="Main Room"]
transform = Transform( 1, 0, 0, 0, 0.988335, -0.152296, 0, 0.152296, 0.988335, 14.5695, -5.30335, -11.5272 )
operation = 2
width = 0.136
height = 0.146092
depth = 0.719034

[node name="CSGBox6" type="CSGBox" parent="Main Room"]
transform = Transform( 1.19249e-08, -0.152296, -0.988335, 0, 0.988335, -0.152296, 1, 1.81611e-09, 1.17858e-08, 12.687, -7.10606, 14.5874 )
operation = 2
width = 0.136
height = 0.146092
depth = 1.05477

[node name="CSGBox7" type="CSGBox" parent="Main Room"]
transform = Transform( 1.19249e-08, 0.705055, -0.709153, 0, 0.709153, 0.705055, 1, -8.4077e-09, 8.45656e-09, 12.687, -6.67845, 14.5861 )
operation = 2
width = 0.136
height = 0.146092
depth = 1.05477

[node name="CSGBox8" type="CSGBox" parent="Main Room"]
transform = Transform( 1.19249e-08, -0.714753, -0.699376, 0, 0.699376, -0.714753, 1, 8.52335e-09, 8.33998e-09, 12.5435, -6.24379, 14.6081 )
operation = 2
width = 0.136
height = 0.146092
depth = 0.548519

[node name="CSGBox9" type="CSGBox" parent="Main Room"]
transform = Transform( 1.19249e-08, 0.446463, -0.894802, 0, 0.894802, 0.446463, 1, -5.32402e-09, 1.06704e-08, 12.9515, -6.25291, 14.5541 )
operation = 2
width = 0.136
height = 0.146092
depth = 0.719034

[node name="CSGBox10" type="CSGBox" parent="Main Room"]
transform = Transform( 1.18345e-08, -0.0297011, -0.999559, -1.46526e-09, 0.999559, -0.0297011, 1, 1.81611e-09, 1.17858e-08, 8.34177, -6.75611, 14.1113 )
width = 0.136
height = 0.146092
depth = 1.05477

[node name="CSGBox11" type="CSGBox" parent="Main Room"]
transform = Transform( 1.1845e-08, -0.0370623, -0.999313, -1.37805e-09, 0.999313, -0.0370623, 1, 1.81611e-09, 1.17858e-08, 8.34177, -6.37789, 14.1113 )
width = 0.136
height = 0.146092
depth = 1.05477

[node name="CSGBox12" type="CSGBox" parent="Main Room"]
transform = Transform( 9.11337e-10, -0.997083, 0.0763188, 1.189e-08, -0.0763188, -0.997083, 1, 1.81611e-09, 1.17858e-08, 3.67769, -6.14195, 14.1113 )
width = 0.136
height = 0.146092
depth = 1.05477

[node name="CSGBox13" type="CSGBox" parent="Main Room"]
transform = Transform( 8.2374e-10, -0.996494, 0.0836605, 1.18964e-08, -0.0836605, -0.996494, 1, 1.81611e-09, 1.17858e-08, 3.11724, -6.1596, 14.1113 )
width = 0.136
height = 0.146092
depth = 1.05477

[node name="CSGBox14" type="CSGBox" parent="Main Room"]
transform = Transform( 1.18835e-08, -0.0694605, -0.997585, -9.93077e-10, 0.997585, -0.0694605, 1, 1.81611e-09, 1.17858e-08, 3.34279, -5.6209, 14.1113 )
width = 0.136
height = 0.146092
depth = 0.483154

[node name="CSGBox15" type="CSGBox" parent="Main Room"]
transform = Transform( 1.18835e-08, -0.0694605, -0.997585, -9.93077e-10, 0.997585, -0.0694605, 1, 1.81611e-09, 1.17858e-08, 3.47352, -6.67083, 14.1113 )
width = 0.136
height = 0.146092
depth = 0.483154

[node name="CSGBox16" type="CSGBox" parent="Main Room"]
transform = Transform( 0.999608, -0.00426564, -0.0276821, 0, 0.988335, -0.152296, 0.0280089, 0.152236, 0.987947, 14.5482, -7.10606, -12.0685 )
operation = 2
width = 0.136
height = 0.146092
depth = 1.05477

[node name="CSGBox17" type="CSGBox" parent="Main Room"]
transform = Transform( 0.999608, 0.0197478, -0.0198626, 0, 0.709153, 0.705055, 0.0280089, -0.704778, 0.708874, 14.5469, -6.67845, -12.0685 )
operation = 2
width = 0.136
height = 0.146092
depth = 1.05477

[node name="CSGBox18" type="CSGBox" parent="Main Room"]
transform = Transform( 0.999608, -0.0200194, -0.0195887, 0, 0.699376, -0.714753, 0.0280089, 0.714473, 0.699102, 14.5649, -6.24379, -11.9245 )
operation = 2
width = 0.136
height = 0.146092
depth = 0.548519

[node name="CSGBox19" type="CSGBox" parent="Main Room"]
transform = Transform( 0.999608, 0.0125049, -0.0250624, 0, 0.894802, 0.446463, 0.0280089, -0.446288, 0.894451, 14.5223, -6.25291, -12.3339 )
operation = 2
width = 0.136
height = 0.146092
depth = 0.719034

[node name="CSGBox20" type="CSGBox" parent="Main Room"]
transform = Transform( 1, 0, 0, 0, 0.857832, -0.513931, 0, 0.513931, 0.857832, -14.5522, -6.06854, -6.94617 )
operation = 2
width = 0.145472
height = 0.172695
depth = 0.922866

[node name="CSGBox21" type="CSGBox" parent="Main Room"]
transform = Transform( 1, 0, 0, 0, 0.93503, 0.354568, 0, -0.354568, 0.93503, -14.5522, -5.80117, -6.94617 )
operation = 2
width = 0.145472
height = 0.172695
depth = 0.684998

[node name="CSGBox22" type="CSGBox" parent="Main Room"]
transform = Transform( 1, 0, 0, 0, 0.936855, -0.349717, 0, 0.349717, 0.936855, -14.5522, -5.57411, -6.94617 )
operation = 2
width = 0.145472
height = 0.172695
depth = 0.684998

[node name="CSGBox23" type="CSGBox" parent="Main Room"]
transform = Transform( 1, 0, 0, 0, 0.93503, 0.354568, 0, -0.354568, 0.93503, -14.5522, -5.28152, -6.85304 )
operation = 2
width = 0.145472
height = 0.172695
depth = 0.751265

[node name="CSGBox24" type="CSGBox" parent="Main Room"]
transform = Transform( 1, 0, 0, 0, 0.988335, -0.152296, 0, 0.152296, 0.988335, -14.556, -5.50577, -8.68192 )
operation = 2
width = 0.136
height = 0.146092
depth = 0.719034

[node name="CSGBox25" type="CSGBox" parent="Main Room"]
transform = Transform( 1, 0, 0, 0, 0.988335, -0.152296, 0, 0.152296, 0.988335, -14.556, -5.75703, -8.73356 )
operation = 2
width = 0.136
height = 0.146092
depth = 0.719034

[node name="CSGBox26" type="CSGBox" parent="Main Room"]
transform = Transform( 1, 0, 0, 0, 0.857832, -0.513931, 0, 0.513931, 0.857832, -14.5522, -6.06854, -10.5371 )
operation = 2
width = 0.145472
height = 0.172695
depth = 0.922866

[node name="CSGBox27" type="CSGBox" parent="Main Room"]
transform = Transform( 1, 0, 0, 0, 0.93503, 0.354568, 0, -0.354568, 0.93503, -14.5522, -5.80117, -10.5371 )
operation = 2
width = 0.145472
height = 0.172695
depth = 0.684998

[node name="CSGBox28" type="CSGBox" parent="Main Room"]
transform = Transform( 1, 0, 0, 0, 0.936855, -0.349717, 0, 0.349717, 0.936855, -14.5522, -5.57411, -10.5371 )
operation = 2
width = 0.145472
height = 0.172695
depth = 0.684998

[node name="CSGBox29" type="CSGBox" parent="Main Room"]
transform = Transform( 1, 0, 0, 0, 0.93503, 0.354568, 0, -0.354568, 0.93503, -14.5522, -5.28152, -10.444 )
operation = 2
width = 0.145472
height = 0.172695
depth = 0.751265

[node name="Table" type="CSGBox" parent="."]
transform = Transform( 0.7, 0, 0, 0, 0.7, 0, 0, 0, 0.7, -11.0998, 1.30826, 7.34532 )
use_collision = true
width = 2.082
height = 2.165
material = SubResource( 1 )

[node name="Books" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -10.897, 2.31064, 7.36357 )

[node name="RigidBody" type="RigidBody" parent="Books"]

[node name="CollisionShape" type="CollisionShape" parent="Books/RigidBody"]
transform = Transform( 1, 0, 0, 0, 0.577, 0, 0, 0, 1, 0.145321, -0.0669267, -0.222005 )
shape = SubResource( 8 )

[node name="Book" type="CSGBox" parent="Books/RigidBody/CollisionShape"]
transform = Transform( 0.7, 0, 0, 0, 1.21317, 0, 0, 0, 0.7, 0.011446, -0.116995, 0.00658655 )
width = 0.5
height = 0.2
depth = 0.5
material = SubResource( 2 )

[node name="RigidBody2" type="RigidBody" parent="Books"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5.96046e-06, 0.492661 )

[node name="CollisionShape" type="CollisionShape" parent="Books/RigidBody2"]
transform = Transform( 1, 0, 0, 0, 0.577, 0, 0, 0, 1, 0.145321, -0.0669267, -0.222005 )
shape = SubResource( 8 )

[node name="Book" type="CSGBox" parent="Books/RigidBody2/CollisionShape"]
transform = Transform( 0.7, 0, 0, 0, 1.21317, 0, 0, 0, 0.7, 0.011446, -0.116995, 0.00658655 )
width = 0.5
height = 0.2
depth = 0.5
material = SubResource( 2 )

[node name="CSGBox" type="CSGBox" parent="Books/RigidBody2/CollisionShape/Book"]
transform = Transform( 1.28997, 0, 0.613846, 0, 1.42857, 0, -0.613846, 0, 1.28997, -0.0167837, 0.0988894, 0.0153952 )
operation = 2
width = 0.0136725
height = 0.0137011
depth = 0.157826

[node name="CSGBox2" type="CSGBox" parent="Books/RigidBody2/CollisionShape/Book"]
transform = Transform( -0.724218, 0, 1.23139, 0, 1.42857, 0, -1.23139, 0, -0.724218, -0.0640554, 0.0988894, -0.0273829 )
operation = 2
width = 0.0169046
height = 0.0181486
depth = 0.211551

[node name="CSGBox3" type="CSGBox" parent="Books/RigidBody2/CollisionShape/Book"]
transform = Transform( -0.311901, 0, -1.39411, 0, 1.42857, 0, 1.39411, 0, -0.311901, -0.0749464, 0.0988894, 0.0575972 )
operation = 2
width = 0.0169046
height = 0.0107309
depth = 0.157826

[node name="Safe2" parent="." instance=ExtResource( 4 )]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -10.6674, 1.14793, 7.38352 )
password = "8008"

[node name="Bookcases" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.92067, -0.55158, 0 )

[node name="CSGMesh" type="CSGMesh" parent="Bookcases"]
transform = Transform( -0.02, 0, -3.01992e-09, 0, 0.02, 0, 3.01992e-09, 0, -0.02, -5.49538, 1.131, 10.082 )
use_collision = true
mesh = ExtResource( 2 )
material = SubResource( 4 )

[node name="CSGMesh2" type="CSGMesh" parent="Bookcases"]
transform = Transform( -0.02, 0, -3.01992e-09, 0, 0.02, 0, 3.01992e-09, 0, -0.02, -7.984, 1.131, 10.082 )
use_collision = true
mesh = ExtResource( 2 )
material = SubResource( 4 )

[node name="Stairs2" type="Spatial" parent="."]
transform = Transform( -2.18557e-08, 0, 0.5, 0, 0.5, 0, -0.5, 0, -2.18557e-08, -4.89966, 0.219169, 7.07915 )
script = ExtResource( 1 )

[node name="CSGMesh" type="CSGMesh" parent="Stairs2"]
transform = Transform( 0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, 12.0376, 1.3157, -7.01798 )
mesh = ExtResource( 3 )
material = SubResource( 5 )

[node name="StaticBody" type="StaticBody" parent="Stairs2"]
transform = Transform( 10, -5.54711e-08, -5.73094e-08, 6.28897e-07, 2.03846, -1.43875, -5.73094e-07, 1.26903, 2.31108, 11.655, 0.366663, -3.56777 )
physics_material_override = SubResource( 6 )

[node name="CollisionShape" type="CollisionShape" parent="Stairs2/StaticBody"]
transform = Transform( 1, 0, 0, 0, 0.998426, -0.0560829, 0, 0.0560829, 0.998426, -0.000671744, -0.0234431, -4.34601 )
shape = SubResource( 7 )

[node name="MeshInstance" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.337795, 0, -0.315028 )
script = ExtResource( 6 )

[node name="Area" type="Area" parent="MeshInstance"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.163161, 1.83065, 1.42359 )

[node name="CollisionShape" type="CollisionShape" parent="MeshInstance/Area"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.320016, 0, -0.0905244 )
shape = SubResource( 9 )

[node name="MeshInstance2" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3.84769, 1.55762, 9.57876 )
script = ExtResource( 6 )

[node name="Area" type="Area" parent="MeshInstance2"]

[node name="CollisionShape" type="CollisionShape" parent="MeshInstance2/Area"]
shape = SubResource( 10 )

[node name="MeshInstance3" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -10.3642, 1.46358, 4.10844 )
script = ExtResource( 6 )

[node name="Area" type="Area" parent="MeshInstance3"]

[node name="CollisionShape" type="CollisionShape" parent="MeshInstance3/Area"]
shape = SubResource( 11 )

[node name="MeshInstance4" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -9.01413, 1.52212, 7.27275 )
script = ExtResource( 6 )

[node name="Area" type="Area" parent="MeshInstance4"]

[node name="CollisionShape" type="CollisionShape" parent="MeshInstance4/Area"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.343565, 0.0824916, 0 )
shape = SubResource( 12 )

[connection signal="area_entered" from="MeshInstance/Area" to="MeshInstance" method="_on_Area_area_entered"]
[connection signal="area_exited" from="MeshInstance/Area" to="MeshInstance" method="_on_Area_area_exited"]
[connection signal="area_entered" from="MeshInstance2/Area" to="MeshInstance2" method="_on_Area_area_entered"]
[connection signal="area_exited" from="MeshInstance2/Area" to="MeshInstance2" method="_on_Area_area_exited"]
[connection signal="area_entered" from="MeshInstance3/Area" to="MeshInstance3" method="_on_Area_area_entered"]
[connection signal="area_exited" from="MeshInstance3/Area" to="MeshInstance3" method="_on_Area_area_exited"]
[connection signal="area_entered" from="MeshInstance4/Area" to="MeshInstance4" method="_on_Area_area_entered"]
[connection signal="area_exited" from="MeshInstance4/Area" to="MeshInstance4" method="_on_Area_area_exited"]
